(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{21:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),s=a(16),n=a.n(s),i=a(7),o=(a(21),a(2)),l=a(6),d=a(8),u=a.n(d),j=a(5),m=a(15),_=JSON.parse(localStorage.getItem("favourites")),b={favourites:_||[],totalFavourites:_?_.length:0},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVOURITE":return localStorage.setItem("favourites",JSON.stringify([].concat(Object(m.a)(e.favourites),[t.payload]))),Object(l.a)(Object(l.a)({},e),{},{favourites:[].concat(Object(m.a)(e.favourites),[t.payload]),totalFavourites:e.totalFavourites+1});case"REMOVE_FAVOURITE":var a=e.favourites.filter((function(e){return e.id!==t.payload}));return localStorage.setItem("favourites",JSON.stringify(a)),Object(l.a)(Object(l.a)({},e),{},{favourites:a,totalFavourites:e.totalFavourites-1});default:return Object(l.a)({},e)}},f=a(0),x=c.a.createContext(),O=function(e,t){e({type:"ADD_FAVOURITE",payload:t})},h=function(e,t){e({type:"REMOVE_FAVOURITE",payload:t})},v=function(e){var t=Object(r.useReducer)(p,b),a=Object(j.a)(t,2),c={state:a[0],dispatch:a[1],addFavourite:O,removeFavourite:h};return Object(f.jsx)(x.Provider,Object(l.a)({value:c},e))},g=function(){var e=Object(r.useContext)(x);if(!e)throw new Error("useFavouriteContext must be used within a useFavouriteContext");return e},N=function(e){var t=e.meetup,a=g(),r=a.state,c=a.dispatch,s=a.addFavourite,n=a.removeFavourite,i=r.favourites.some((function(e){return e.id===t.id}));return Object(f.jsxs)("li",{className:u.a.card,children:[Object(f.jsx)("div",{className:u.a.card__img,children:Object(f.jsx)("img",{src:t.image,alt:t.title})}),Object(f.jsxs)("div",{className:u.a.card__textBox,children:[Object(f.jsx)("h3",{className:u.a.card__title,children:t.title}),Object(f.jsx)("address",{className:u.a.card__address,children:t.address}),Object(f.jsx)("p",{className:u.a.card__description,children:t.description})]}),Object(f.jsx)("div",{className:u.a.card__action,children:Object(f.jsx)("button",{onClick:function(){i||s(c,t),i&&n(c,t.id)},children:i?"Remove From Favourites":"To favourites"})})]})},M=function(e){return Object(f.jsx)("ul",{className:e.className,children:e.meetups.map((function(e){return Object(f.jsx)(N,{meetup:e},e.id)}))})},F=a(11),y=a.n(F),w=a(13),C=function(e){var t=Object(r.useState)(null),a=Object(j.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(!0),i=Object(j.a)(n,2),o=i[0],l=i[1],d=Object(r.useState)(null),u=Object(j.a)(d,2),m=u[0],_=u[1],b=Object(r.useCallback)(Object(w.a)(y.a.mark((function t(){var a,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.prev=1,t.next=4,fetch(e);case 4:return a=t.sent,t.next=7,a.json();case 7:if(r=t.sent,a.ok){t.next=10;break}throw new Error("Could not fetch data. Received ".concat(a.status));case 10:s(r),l(!1),_(null),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),l(!1),_(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[1,15]])}))),[e]);return Object(r.useEffect)((function(){return b(),function(){s(null),l(!1),_(null)}}),[b]),{data:c,loading:o,error:m}},A=function(){var e=C("https://meetup-346c7-default-rtdb.asia-southeast1.firebasedatabase.app/meetups.json"),t=e.data,a=e.loading,r=e.error,c=[];if(t)for(var s in t){var n=Object(l.a)({id:s},t[s]);c.push(n)}return Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)("h1",{className:"text-6xl flex h-screen justify-center items-center",children:"Loading..."}),r&&Object(f.jsxs)("h1",{className:"text-3xl flex h-screen justify-center items-center",children:["Error: ",r]}),c.length<1&&Object(f.jsx)("h1",{className:"text-6xl flex h-screen justify-center items-center",children:"No Meetups Found"}),t&&Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"text-6xl text-center mb-12 font-bold",children:"All Meetup"}),Object(f.jsx)(M,{meetups:c,className:"grid grid-cols md:grid-cols-2 lg:grid-cols-3 gap-4 items-center place-items-center"})]})]})},R=a(3),U=a.n(R),E=function(e){var t=Object(o.f)(),a=Object(r.useRef)(),c=Object(r.useRef)(),s=Object(r.useRef)(),n=Object(r.useRef)();return Object(f.jsxs)("form",{id:"form_meetUp",className:U.a.form,onSubmit:function(r){r.preventDefault();var i={title:a.current.value,description:c.current.value,image:s.current.value,address:n.current.value,id:Date.now()};document.getElementById("form_meetUp").reset(),e.onAddMeetup(i),t("/")},children:[Object(f.jsxs)("div",{className:"".concat(U.a.form__group," col-span-6"),children:[Object(f.jsx)("label",{className:U.a.form__label,htmlFor:"title",children:"MeetUp Title :"}),Object(f.jsx)("input",{ref:a,required:!0,className:U.a.formControl,type:"text",name:"title",id:"title",placeholder:"Your MeetUp Title"})]}),Object(f.jsxs)("div",{className:"".concat(U.a.form__group," col-span-6  place-self-start"),children:[Object(f.jsx)("label",{className:U.a.form__label,htmlFor:"address",children:"MeetUp Address :"}),Object(f.jsx)("input",{ref:n,required:!0,className:U.a.formControl,type:"address",name:"address",id:"address",placeholder:"Your MeetUp Address"})]}),Object(f.jsxs)("div",{className:"".concat(U.a.form__group," col-span-12  place-self-center"),children:[Object(f.jsx)("label",{className:U.a.form__label,htmlFor:"image",children:"MeetUp Image :"}),Object(f.jsx)("input",{ref:s,required:!0,className:U.a.formControl,type:"url",name:"image",id:"image",placeholder:"Copy MeetUp Image Address"})]}),Object(f.jsxs)("div",{className:"".concat(U.a.form__group," col-span-12  place-self-center"),children:[Object(f.jsx)("label",{className:U.a.form__label,htmlFor:"description",children:"MeetUp Description :"}),Object(f.jsx)("textarea",{ref:c,required:!0,className:U.a.formControl,name:"description",id:"description",placeholder:"Your MeetUp Description",rows:"5"})]}),Object(f.jsx)("div",{className:"".concat(U.a.form__group," col-span-12 place-self-center text-center"),children:Object(f.jsx)("button",{className:U.a.form__button,type:"submit",children:"Add MeetUp"})})]})},S=function(){var e=function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://meetup-346c7-default-rtdb.asia-southeast1.firebasedatabase.app/meetups.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"text-6xl text-center mb-12 font-bold",children:"Add New Meetup"}),Object(f.jsx)(E,{onAddMeetup:e})]})},k=function(){var e,t=g().state;return e=t.favourites.length>0?Object(f.jsx)(M,{meetups:t.favourites,className:"grid grid-cols md:grid-cols-2 lg:grid-cols-3 gap-4 items-center place-items-center"}):Object(f.jsx)("div",{className:"text-center text-5xl",children:Object(f.jsx)("p",{children:"You have no favourite meetups..!!! Please Add Some"})}),Object(f.jsxs)("section",{children:[Object(f.jsx)("h2",{className:"text-center text-6xl font-extrabold mb-16",children:"My Favourite Meetups"}),e]})},I=a(9),T=a.n(I),D=function(){var e=g().state;return Object(f.jsx)("header",{className:T.a.header,children:Object(f.jsxs)("nav",{className:T.a.nav,children:[Object(f.jsx)("div",{className:T.a.nav__logo,children:Object(f.jsx)(i.b,{to:"/",children:Object(f.jsx)("h1",{children:"MeetUps"})})}),Object(f.jsxs)("ul",{className:T.a.nav__links,children:[Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/",children:"All Meetups"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/new_meetup",children:"New Meetup"})}),Object(f.jsxs)("li",{className:T.a.badgeContainer,children:[Object(f.jsx)(i.b,{to:"/favourites",children:"Favourites"}),Object(f.jsx)("span",{className:T.a.badge,children:e.totalFavourites})]})]})]})})},J=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(D,{}),Object(f.jsx)("main",{className:"container py-8",children:e.children})]})};var q=function(){return Object(f.jsx)(J,{children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/",element:Object(f.jsx)(A,{})}),Object(f.jsx)(o.a,{exact:!0,path:"/new_meetup",element:Object(f.jsx)(S,{})}),Object(f.jsx)(o.a,{exact:!0,path:"/favourites",element:Object(f.jsx)(k,{})})]})})};n.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(i.a,{children:Object(f.jsx)(v,{children:Object(f.jsx)(q,{})})})}),document.getElementById("root"))},3:function(e,t,a){e.exports={form:"newmeetupform_form__3ZGwq",form__group:"newmeetupform_form__group__3aHkM",form__label:"newmeetupform_form__label__1X-YT",formControl:"newmeetupform_formControl__1Mag1",form__button:"newmeetupform_form__button__2ZO2l"}},8:function(e,t,a){e.exports={card:"meetupitem_card__1qOaO",card__img:"meetupitem_card__img__1hZgN",card__textBox:"meetupitem_card__textBox__7zKmu",card__title:"meetupitem_card__title__1IH7W",card__description:"meetupitem_card__description__20cpI",card__address:"meetupitem_card__address__3XRDA",card__action:"meetupitem_card__action__1R21R"}},9:function(e,t,a){e.exports={header:"MainNavigation_header__3uTeX",nav:"MainNavigation_nav__-_Ygw",nav__logo:"MainNavigation_nav__logo__NlJEq",nav__links:"MainNavigation_nav__links__Wp__z",badgeContainer:"MainNavigation_badgeContainer__2-lJj",badge:"MainNavigation_badge__m4tQe"}}},[[24,1,2]]]);
//# sourceMappingURL=main.e34a9bfc.chunk.js.map